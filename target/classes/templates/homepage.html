<!DOCTYPE html>
<html lang = "en" xmlns:th = "http://www.thymeleaf.org">

<head>
  <div th:insert = "fragments/header :: myHeader"></div>
  <title>Dragons of Mugloar</title>
</head>

<body>
<div class = "container"
	 style = "display: flex;flex-direction: column;justify-content: center;align-items: center;text-align: center;">
  <table class = "table table-striped table-bordered table-hover">
    <caption class = "text-center text-info"> Game Statistics</caption>
    <thead class = "table-dark">
    <tr>
      <th>Game ID</th>
      <th>Lives</th>
      <th>Gold</th>
      <th>Level</th>
      <th>Score</th>
      <th>High Score</th>
      <th>Turn</th>
      <th>Reputation</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <td th:text = "${game.gameId}"></td>
      <td th:text = "${game.lives}"></td>
      <td th:text = "${game.gold}"></td>
      <td th:text = "${game.level}"></td>
      <td th:text = "${game.score}"></td>
      <td th:text = "${game.highScore}"></td>
      <td th:text = "${game.turn}"></td>
      <td>
        <a class = "btn  btn-info text-capitalize btn btn-primary btn-sm mdc-button mdc-button--raised font-weight-bold"
		   style = "margin-bottom: 8px;
                        --mdc-theme-primary: #32a4ee"
		   th:href = "@{/game/{gameId}/investigate(gameId=${game.gameId})}"> Investigate
          Reputation </a>
      </td>
    </tr>
    </tbody>
  </table>
  <div>
    <a class = "btn btn-block btn-primary text-capitalize btn btn-primary btn-lg mdc-button mdc-button--raised font-weight-bold"
	   style = "margin-bottom: 8px;--mdc-theme-primary: #32a4ee"
	   th:href = "@{/{gameId}/messages/(gameId=${game.gameId})}"> Inbox</a>
    <br>
    <a class = "btn btn-block btn-primary text-capitalize btn btn-primary btn-lg mdc-button mdc-button--raised font-weight-bold"
	   style = "margin-bottom: 8px;--mdc-theme-primary: #32a4ee"
	   th:href = "@{/{gameId}/shop/get(gameId=${game.gameId})}"> Marketplace </a>
    <br>
	  <!-- Button trigger modal -->
    <button class = "btn btn-block text-capitalize mdc-button mdc-button--raised"
			data-target = "#exampleModal" data-toggle = "modal"
			style = "--mdc-theme-primary: rgba(57,57,57,0.83)" type = "button"> Quit
    </button>
	  <!-- Modal -->
    <div aria-hidden = "true" aria-labelledby = "exampleModalLabel"
		 class = "modal fade" id = "exampleModal" role = "dialog"
		 tabindex = "-1">
      <div class = "modal-dialog" role = "document">
        <div class = "modal-content">
          <div class = "modal-header">
            <h5 class = "modal-title"
				id = "exampleModalLabel"> Confirmation </h5>
            <button aria-label = "Close" class = "close " data-dismiss = "modal"
					type = "button">
              <span aria-hidden = "true">&times;</span>
            </button>
          </div>
          <div class = "modal-body text-xl-left"> Are you sure you want to quit the game?</div>
          <div class = "modal-footer">
            <button class = "btn btn-secondary mdc-button mdc-button--raised "
					data-dismiss = "modal"
					style = "--mdc-theme-primary: #448AFF" type = "button">No
            </button>
            <button class = "btn btn-secondary mdc-button mdc-button--raised "
					id = "quitBtn" style = "--mdc-theme-primary: #FF647a"
					type = "button">Yes
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div th:insert = "fragments/footer :: myFooter(lives=${game.lives},gold=${game.gold},level=${game.level},score=${game.score},highScore=${game.highScore},turn =${game.turn})">
</div>
<script type = "text/javascript">
  document.getElementById("quitBtn").onclick = function () {
      location.href = "/";
  };
</script>
</body>

</html>